extends ../layout

block content
  h1.titlehead#title= title
  p Welcome to #{title}

  ul
    for roomId in roomIdList
      .list.clearfix
        img.left(src='/users/my/picture/')
        li.left
          a(href= '/chatRoom/' + '#{roomId}') #{roomId}
  
  script(src='//code.jquery.com/jquery-1.11.0.min.js')
  script(src='/socket.io/socket.io.js')  
  script.
    var socket = io('/chatRoomList');
    socket.on('send chatRoomList', function(chatRoomList) {
      chatRoomList.forEach(function(chatRoom) {
        var li = $('<li><a href="/chatRoom/'
        + chatRoom.room
        + '">'
        + chatRoom.room
        + '</a></li>');
        $('#chatRoomList').append(li);
      });
    });
